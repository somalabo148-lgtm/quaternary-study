<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç¬¬å››ç´€å­¦ è‹±å˜èªç‰¹è¨“ãƒ‰ãƒªãƒ« </title>
<style>
    body { font-family: "Helvetica Neue", Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; background-color: #eef2f3; }
    h1 { color: #2c3e50; text-align: center; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
    .quiz-container { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    .section-title { background-color: #34495e; color: white; padding: 5px 10px; margin-top: 30px; border-radius: 4px; font-size: 1.1em; }
    .question-box { margin-bottom: 15px; padding: 15px; border-bottom: 1px solid #eee; display: flex; flex-wrap: wrap; align-items: center; }
    .japanese { font-weight: bold; font-size: 1.1em; width: 220px; color: #333; }
    input[type="text"] { flex: 1; padding: 8px; font-size: 16px; border: 2px solid #ddd; border-radius: 4px; min-width: 150px; }
    button { padding: 8px 15px; font-size: 14px; background-color: #3498db; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px; }
    button:hover { background-color: #2980b9; }
    .result { margin-left: 10px; font-weight: bold; min-width: 80px; }
    .correct { color: #27ae60; }
    .incorrect { color: #c0392b; }
    .hint { display: none; width: 100%; margin-top: 5px; font-size: 0.9em; color: #e74c3c; background: #fdedec; padding: 5px; border-radius: 4px; }
    #score-area { text-align: center; margin-top: 30px; font-size: 1.4em; font-weight: bold; color: #2c3e50; }
    .btn-all { display: block; width: 100%; max-width: 200px; margin: 20px auto; padding: 15px; font-size: 18px; background-color: #27ae60; }
    .btn-all:hover { background-color: #219150; }
</style>
</head>
<body>

<h1>ç¬¬å››ç´€å­¦ è‹±å˜èªç‰¹è¨“</h1>
<div class="quiz-container">
    <p>æ—¥æœ¬èªã«å¯¾å¿œã™ã‚‹è‹±å˜èªã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆå¤§æ–‡å­—ãƒ»å°æ–‡å­—ã¯åŒºåˆ¥ã—ã¾ã›ã‚“ï¼‰ã€‚</p>
    <div id="quiz-area"></div>
    <button class="btn-all" onclick="checkAll()">ä¸€æ‹¬æ¡ç‚¹ã™ã‚‹</button>
    <div id="score-area"></div>
</div>

<script>
    // å•é¡Œãƒ‡ãƒ¼ã‚¿
    const questions = [
        // åŸºæœ¬ç”¨èª
        { cat: "åŸºæœ¬ãƒ»åœ°è³ªæ™‚ä»£", q: "ç¬¬å››ç´€", a: ["Quaternary"] },
        { cat: "åŸºæœ¬ãƒ»åœ°è³ªæ™‚ä»£", q: "æ›´æ–°ä¸–", a: ["Pleistocene"] },
        { cat: "åŸºæœ¬ãƒ»åœ°è³ªæ™‚ä»£", q: "å®Œæ–°ä¸–", a: ["Holocene"] },
        
        // å±¤åºãƒ»å¹´ä»£å­¦
        { cat: "å±¤åºãƒ»å¹´ä»£å­¦", q: "å¹´ä»£å±¤åº", a: ["Chronostratigraphy"] },
        { cat: "å±¤åºãƒ»å¹´ä»£å­¦", q: "æ°—å€™å±¤åº (æ°—å€™å¤‰åŒ–å²)", a: ["Climatostratigraphy"] },
        { cat: "å±¤åºãƒ»å¹´ä»£å­¦", q: "ç·¨å¹´", a: ["Chronology"] },
        
        // å¹´ä»£æ¸¬å®š
        { cat: "å¹´ä»£æ¸¬å®š", q: "æ”¾å°„æ€§ç‚­ç´ å¹´ä»£æ¸¬å®š", a: ["Radiocarbon dating"] },
        { cat: "å¹´ä»£æ¸¬å®š", q: "æš¦å¹´è¼ƒæ­£å¹´ä»£", a: ["Calibrated age"] },
        { cat: "è¼ƒæ­£", q: "è¼ƒæ­£", a: ["Calibration"] },
        { cat: "åˆ¶ç´„ä»˜ãå¹´ä»£ (ãƒ™ã‚¤ã‚ºæ¨å®šç­‰)", q: "åˆ¶é™ä»˜ãå¹´ä»£", a: ["Constrained age"] },

        // ãƒ†ãƒ•ãƒ©ãƒ»ç«å±±
        { cat: "ãƒ†ãƒ•ãƒ©ãƒ»ç«å±±", q: "ãƒ†ãƒ•ãƒ©", a: ["Tephra"] },
        { cat: "ãƒ†ãƒ•ãƒ©ãƒ»ç«å±±", q: "è»½çŸ³", a: ["Pumice"] },
        { cat: "ãƒ†ãƒ•ãƒ©ãƒ»ç«å±±", q: "ã‚¹ã‚³ãƒªã‚¢", a: ["Scoria"] },
        { cat: "ãƒ†ãƒ•ãƒ©ãƒ»ç«å±±", q: "ç«å±±ç°", a: ["Ash", "Volcanic ash"] },
        { cat: "ãƒ†ãƒ•ãƒ©ãƒ»ç«å±±", q: "å‡ç°å²©", a: ["Tuff"] },
        { cat: "ãƒ†ãƒ•ãƒ©ãƒ»ç«å±±", q: "éµå±¤", a: ["Key bed"] },

        // åœ°éœ‡ãƒ»æ–­å±¤
        { cat: "åœ°éœ‡ãƒ»æ–­å±¤", q: "ãƒ—ãƒ¬ãƒ¼ãƒˆé–“åœ°éœ‡", a: ["Interplate earthquake"] },
        { cat: "åœ°éœ‡ãƒ»æ–­å±¤", q: "ãƒ—ãƒ¬ãƒ¼ãƒˆå†…åœ°éœ‡", a: ["Intraplate earthquake"] },
        { cat: "åœ°éœ‡ãƒ»æ–­å±¤", q: "æ­£æ–­å±¤", a: ["Normal fault"] },
        { cat: "åœ°éœ‡ãƒ»æ–­å±¤", q: "é€†æ–­å±¤", a: ["Reverse fault"] }, 
        { cat: "åœ°éœ‡ãƒ»æ–­å±¤", q: "æ¨ªãšã‚Œæ–­å±¤", a: ["Strike-slip fault"] },
        { cat: "åœ°éœ‡ãƒ»æ–­å±¤ãƒ»ç½å®³", q: "ã‚¯ãƒ¬ãƒã‚¹ã‚¹ãƒ—ãƒ¬ãƒ¼ (æ±ºå£Šå †ç©ç‰©)", a: ["Crevasse splay", "Crevasse splay deposit"] },

    ];

    function initQuiz() {
        const area = document.getElementById("quiz-area");
        let html = "";
        let currentCat = "";

        questions.forEach((item, index) => {
            if (item.cat !== currentCat) {
                html += `<div class="section-title">${item.cat}</div>`;
                currentCat = item.cat;
            }
            html += `
            <div class="question-box">
                <div class="japanese">${item.q}</div>
                <input type="text" id="ans-${index}" placeholder="è‹±èªã§å…¥åŠ›..." onkeydown="if(event.key==='Enter') checkOne(${index})">
                <button onclick="checkOne(${index})">åˆ¤å®š</button>
                <span id="res-${index}" class="result"></span>
                <div id="hint-${index}" class="hint">æ­£è§£: ${item.a[0]}</div>
            </div>`;
        });
        area.innerHTML = html;
    }

    function normalize(str) {
        return str.trim().toLowerCase().replace(/[^a-z0-9 ]/g, "");
    }

    function checkOne(index) {
        const input = document.getElementById(`ans-${index}`);
        const resSpan = document.getElementById(`res-${index}`);
        const hintDiv = document.getElementById(`hint-${index}`);
        const userVal = normalize(input.value);
        
        const isCorrect = questions[index].a.some(ans => normalize(ans) === userVal);

        if (isCorrect) {
            resSpan.textContent = "â­• OK";
            resSpan.className = "result correct";
            hintDiv.style.display = "none";
            input.style.backgroundColor = "#e8f8f5";
        } else {
            resSpan.textContent = "âŒ";
            resSpan.className = "result incorrect";
            hintDiv.style.display = "block";
            input.style.backgroundColor = "#fef9e7";
        }
    }

    function checkAll() {
        let correctCount = 0;
        questions.forEach((item, index) => {
            checkOne(index);
            const userVal = normalize(document.getElementById(`ans-${index}`).value);
            if (item.a.some(ans => normalize(ans) === userVal)) correctCount++;
        });
        const scoreArea = document.getElementById("score-area");
        scoreArea.textContent = `æ­£è§£æ•°: ${correctCount} / ${questions.length}`;
        if(correctCount === questions.length) {
             scoreArea.innerHTML += "<br><span style='color:#e67e22'>ğŸ‰ Perfect! ç´ æ™´ã‚‰ã—ã„ï¼</span>";
        }
    }

    window.onload = initQuiz;
</script>

</body>
</html>